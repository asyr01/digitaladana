const cacheName="v2";self.addEventListener("install",e=>{console.log("Service Worker: Installed")}),self.addEventListener("activate",e=>{console.log("Service Worker: Activated"),e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if("v2"!==e)return console.log("Service Worker: Clearing old cache"),caches.delete(e)}))))}),self.addEventListener("fetch",e=>{console.log("Service Worker: Fetching"),e.respondWith(fetch(e.request).then(t=>{const c=t.clone();return caches.open("v2").then(t=>{t.put(e.request,c)}),t}).catch(t=>caches.match(e.request).then(e=>e)))});